<!DOCTYPE html>
<html lang="en">

<!-- Head -->
<%- include('../partials/admin/head.ejs') %>
<!-- Head -->
<body class="bg-white">
   
    <%- include('../partials/admin/navbar.ejs') %>

    <!-- Sidenav -->
    <%- include('../partials/admin/sidebar.ejs') %>
    <!-- Sidenav -->

    <% if(alert.message !='' ) { %>
        <div class="m-2">
            <%- include('../partials/alert.ejs') %>
        </div>
        <% } %>

    <h1 class="font-bold text-3xl text-center my-10">Daftar Pesanan</h1>

    <div class="flex flex-col">
        <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
            <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
                <div class="overflow-hidden">
                    <table class="min-w-full border text-center text-sm font-light dark:border-black">
                        <thead class="border-b font-medium dark:border-black">
                            <tr class="bg-black text-white">
                                <th scope="col" class="border-r dark:border-black">
                                    No
                                </th>
                                <th scope="col" class="border-r dark:border-black">
                                    Nama Customer
                                </th>
                                <th scope="col" class="border-r dark:border-black">
                                    Alamat Customer
                                </th>
                                <th scope="col" class="border-r px-6 py-4 dark:border-black">
                                    Tanggal Order
                                </th>
                                <th scope="col" class="border-r dark:border-black">
                                    Status
                                </th>
                                <th scope="col" class="border-r dark:border-black">
                                    Total
                                </th>
                                <th scope="col" class="border-r dark:border-black">
                                    Produk
                                </th>
                                <th scope="col" class="border-r dark:border-black">
                                    Ongkir
                                </th>
                                <th scope="col" class="border-r dark:border-black">
                                    Bukti Pembayaran
                                </th>
                                <th scope="col" class="border-r dark:border-black">
                                    Aksi
                                </th>
    
                            </tr>
                        </thead>
                        <tbody>
                            <% for(let i=0; i < pesanan.length; i++){ %>
                            <tr class="border-b dark:bg-gray-600">
                                <td class="whitespace-nowrap border-r border-b font-bold dark:border-black">
                                    <h3 class="font-bold text-center text-lg"><%= i+1 %></h3>
                                </td>
                                <td class="whitespace-nowrap border-r border-b dark:border-black">
                                    <h3 class="font-bold text-center text-lg"><%= pesanan[i].Pembeli.Nama %></h3>
                                </td>
                                <td class="border-r border-b px-6 py-4 dark:border-black ">
                                    <h3 class="font-semibold text-center text-sm"><%= pesanan[i].Pembeli.Alamat %></h3>
                                </td>
                                <td class="whitespace-nowrap border-r border-b px-6 py-4 dark:border-black">
                                    <h3 class="font-bold text-center text-lg"><%= pesanan[i].Tanggal %></h3>
                                </td>

                                <td class="whitespace-nowrap border-r border-b dark:border-black p-auto max-h-xs">
                                    <h3 class="font-bold text-center text-lg"><%= pesanan[i].Status %></h3>
                                </td>

                                <td class="whitespace-nowrap border-r border-b py-4 max-w-xs dark:border-black">
                                    <h3 class="font-bold text-center text-lg"> Rp. <%= pesanan[i].Total %></h3>
                                </td>
                                <td class="whitespace-nowrap border-r border-b py-4 max-w-xs dark:border-black">
                                    <a class="my-1" href="/admin/daftar-pesanan/<%= pesanan[i].id %>"><button class="bg-white rounded font-bold w-24 h-8 text-center" type="button">Lihat
                                            Produk</button></a>
                                </td>
                                <td class="whitespace-nowrap border-r border-b py-4 max-w-xs dark:border-black">
                                    <a class="my-1" href="/admin/input-jarak/<%= pesanan[i].id %>"><button class="bg-white rounded font-bold w-24 h-8 text-center" type="button">
                                        Input Ongkir</button></a>
                                </td>
                                <td class="whitespace-nowrap border-r border-b py-4 max-w-xs dark:border-black">
                                    <a class="my-1" href="<%= pesanan[i].Bukti_Pembayaran %>"><button class="bg-white rounded font-bold w-24 h-8 text-center" type="button">
                                            Lihat Bukti</button></a>
                                </td>
                                <td class="whitespace-nowrap border-r border-b py-4 max-w-xs dark:border-black">
                                        <a class="my-1" href="/admin/konfirmasi-pesanan/<%= pesanan[i].id %>"><button class="bg-white rounded font-bold w-20 h-7 text-center"
                                                type="button">Validasi</button></a>
                                </td>
                            </tr>
                            <% } %>
                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/tw-elements.umd.min.js"></script>
</html>